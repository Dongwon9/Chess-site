<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
</head>
<body>
  <div id="user_list">
    <ul>
      <li>User 1</li>
      <li>User 2</li>
      <li>User 3</li>
    </ul>
  </div>
  <button id="toRoomBtn">방으로</button>
</body>
<script type="module">
  import { io } from 'https://cdn.socket.io/4.8.1/socket.io.esm.min.js';
  const socket = io();
  // 모듈 스코프에서는 global onclick 핸들러가 동작하지 않으므로
  // 버튼에 이벤트 리스너를 직접 붙입니다.
  const toRoomBtn = document.getElementById('toRoomBtn');
  if (toRoomBtn) {
    toRoomBtn.addEventListener('click', () => {
      socket.emit('message', `${socket.id} is going to room`);
      location.href = 'room.html';
    });
  }

  let nickname = null;
  while (!nickname) {
    nickname = prompt('닉네임을 입력하세요');
  }
</script>
